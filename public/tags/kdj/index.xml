<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>KDJ on R-Finance中国</title><link>https://rfinance.org.cn/tags/kdj/</link><description>Recent content in KDJ on R-Finance中国</description><generator>Hugo</generator><language>zh-CN</language><lastBuildDate>Tue, 10 Jun 2025 15:36:25 +0000</lastBuildDate><atom:link href="https://rfinance.org.cn/tags/kdj/index.xml" rel="self" type="application/rss+xml"/><item><title>KDJ指标择时交易策略分析</title><link>https://rfinance.org.cn/post/kdj/</link><pubDate>Tue, 10 Jun 2025 15:36:25 +0000</pubDate><guid>https://rfinance.org.cn/post/kdj/</guid><description>&lt;h1 id="引言">引言&lt;/h1>
&lt;p>技术分析是金融市场中常用的分析方法，其中KDJ指标是一种重要的随机指标，能够反映价格波动的强弱、超买超卖现象以及市场趋势变化。本研究旨在通过R语言实现基于KDJ指标的股票择时交易策略，并通过历史数据回测寻找最佳参数组合。&lt;/p>
&lt;h1 id="研究方法">研究方法&lt;/h1>
&lt;h2 id="数据获取与处理">数据获取与处理&lt;/h2>
&lt;p>我们将使用&lt;code>quantmod&lt;/code>包获取股票数据，并使用&lt;code>quantstrat&lt;/code>包进行策略回测。首先加载所需的包：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-r" data-lang="r">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 加载必要的包&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">library&lt;/span>(quantmod)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">library&lt;/span>(quantstrat)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">library&lt;/span>(eTTR)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">library&lt;/span>(PerformanceAnalytics)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">library&lt;/span>(ggplot2)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">library&lt;/span>(dplyr)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">library&lt;/span>(tibble)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">library&lt;/span>(scales)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">library&lt;/span>(gridExtra)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 加载环境重置函数&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">source&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;/Users/matrixspk/My-Sites/r-finance/assets/code/reset_strategy_env.R&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 加载计算胜率的函数&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">source&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;/Users/matrixspk/My-Sites/r-finance/assets/code/calculate_portfolio_win_rates.R&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">source&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;/Users/matrixspk/My-Sites/r-finance/assets/code/generateSimpleSignalChain.R&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>接下来，我们获取苹果公司股票的历史数据作为研究对象：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-r" data-lang="r">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 设置获取数据的起始和结束日期&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>initDate &lt;span style="color:#f92672">&amp;lt;-&lt;/span> &lt;span style="color:#a6e22e">as.Date&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;2017-12-31&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>startdate.st &lt;span style="color:#f92672">&amp;lt;-&lt;/span> &lt;span style="color:#a6e22e">as.Date&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;2018-01-01&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>enddate.st &lt;span style="color:#f92672">&amp;lt;-&lt;/span> &lt;span style="color:#a6e22e">as.Date&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;2023-06-01&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 获取苹果公司股票数据&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">getSymbols&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;AAPL&amp;#34;&lt;/span>, src &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#34;yahoo&amp;#34;&lt;/span>, from &lt;span style="color:#f92672">=&lt;/span> startdate.st, to &lt;span style="color:#f92672">=&lt;/span> enddate.st)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>## [1] &amp;#34;AAPL&amp;#34;
&lt;/code>&lt;/pre>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-r" data-lang="r">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">colnames&lt;/span>(AAPL) &lt;span style="color:#f92672">&amp;lt;-&lt;/span> &lt;span style="color:#a6e22e">c&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;Open&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;High&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;Low&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;Close&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;Volume&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;Adjusted&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 查看数据结构&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">head&lt;/span>(AAPL)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>## Open High Low Close Volume Adjusted
## 2018-01-02 42.5400 43.0750 42.3150 43.0650 102223600 40.42682
## 2018-01-03 43.1325 43.6375 42.9900 43.0575 118071600 40.41978
## 2018-01-04 43.1350 43.3675 43.0200 43.2575 89738400 40.60753
## 2018-01-05 43.3600 43.8425 43.2625 43.7500 94640000 41.06987
## 2018-01-08 43.5875 43.9025 43.4825 43.5875 82271200 40.91733
## 2018-01-09 43.6375 43.7650 43.3525 43.5825 86336000 40.91262
&lt;/code>&lt;/pre>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-r" data-lang="r">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">summary&lt;/span>(AAPL)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;pre tabindex="0">&lt;code>## Index Open High Low 
## Min. :2018-01-02 Min. : 35.99 Min. : 36.43 Min. : 35.50 
## 1st Qu.:2019-05-10 1st Qu.: 51.97 1st Qu.: 52.32 1st Qu.: 51.67 
## Median :2020-09-15 Median :114.67 Median :116.07 Median :112.84 
## Mean :2020-09-14 Mean :102.38 Mean :103.62 Mean :101.24 
## 3rd Qu.:2022-01-20 3rd Qu.:146.36 3rd Qu.:148.00 3rd Qu.:145.15 
## Max. :2023-05-31 Max. :182.63 Max. :182.94 Max. :179.12 
## Close Volume Adjusted 
## Min. : 35.55 Min. : 35195900 Min. : 33.87 
## 1st Qu.: 52.03 1st Qu.: 76144000 1st Qu.: 49.73 
## Median :114.97 Median : 98135650 Median :111.96 
## Mean :102.48 Mean :112825725 Mean :100.02 
## 3rd Qu.:146.61 3rd Qu.:133535000 3rd Qu.:143.97 
## Max. :182.01 Max. :426510000 Max. :178.65
&lt;/code>&lt;/pre>&lt;h2 id="kdj指标计算原理">KDJ指标计算原理&lt;/h2>
&lt;p>KDJ指标由三条曲线组成：K线、D线和J线。其计算基于以下步骤：&lt;/p></description></item></channel></rss>